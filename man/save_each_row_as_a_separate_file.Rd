% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rows_to_files.R
\name{save_each_row_as_a_separate_file}
\alias{save_each_row_as_a_separate_file}
\title{Save Each Row as a Separate File}
\usage{
save_each_row_as_a_separate_file(
  data_to_save_df_w_filepaths,
  id_col_name = "id",
  path = "data_in/files",
  file_prefix = "file",
  extension = ".qs2"
)
}
\arguments{
\item{data_to_save_df_w_filepaths}{Data frame containing rows to write, with
a \code{file_path} column specifying the output file for each row.}

\item{id_col_name}{Name of the unique identifier column (default \code{"id"}).}

\item{path}{Directory where files should be saved (default
\code{"data_in/boliga_current"}).}

\item{file_prefix}{Prefix used for the filenames (default \code{"estate"}).}

\item{extension}{File extension to match - must be either \code{".qs2"} or
\code{".parquet"} (default \code{".qs2"}).}
}
\value{
A character vector of the file paths that were created.
}
\description{
Writes each row in the input data frame to an individual file, using the
\code{file_path} column for the destination. The data written to disk does not
include the \code{file_path} column itself.
}
\details{
This is one of three helper functions that work together to keep a
set of per‑property files in sync with the live Boliga dataset:
\enumerate{
\item \strong{\code{compare_with_existing_files()}} Takes the current data frame and
compares every row (ignoring columns that change only because of
timestamps) against the already stored files in the \code{path} directory.
Returns the IDs of rows that are new or have changed.
\item \strong{\code{save_each_row_as_a_separate_file()}} Receives the subset of rows
identified as new/changed and writes each of the rows to its own file
(\verb{estate_<id>.qs2} or \verb{estate_<id>.parquet}). The function returns the
paths of the files it created, which can be useful for debugging or
logging.
\item \strong{\code{delete_existing_files_w_ids_not_present_in_current_data()}} Looks at
all existing files in the directory and removes any whose ID is no longer
present in the current data frame. It returns the list of deleted file
paths.
}

Finally, the pipeline step returns a vector of the current file paths to
all of the files in the \code{path} directory, so that \code{targets} can monitor
these files for downstream steps. This workflow ensures that only
up‑to‑date property records are kept in the input directory and stale ones
are automatically purged.

All of this is done in order for making it possible for \code{targets} to use
it's branching magic to run the pipeline as efficiently as possible.
}
\seealso{
These functions are designed to work together, see details above:
\code{\link[=compare_with_existing_files]{compare_with_existing_files()}}, \code{\link[=save_each_row_as_a_separate_file]{save_each_row_as_a_separate_file()}},
\code{\link[=delete_existing_files_w_ids_not_present_in_current_data]{delete_existing_files_w_ids_not_present_in_current_data()}}
}
